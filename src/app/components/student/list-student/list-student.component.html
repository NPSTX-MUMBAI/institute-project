<button pButton pRipple label="+ Add Student" (click)="addStudent()"></button>
<button pButton pRipple label="Bulk Upload" (click)="bulkUpload()"></button>





<p-confirmPopup></p-confirmPopup>
<p-toast></p-toast>


<p-menu #menu [model]="items" [popup]="true"></p-menu>

<div *ngIf="students" style="margin-top:8%;">

    <form [formGroup]="studentFilter">
        <p-accordion [activeIndex]="1">
            <p-accordionTab header="Apply Filter">

                <div class="formgrid grid">
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">Unique Id</label>
                        <div class="p-inputgroup">

                            <input placeholder="Enter student Unique id" type="text" formControlName="uniqueId"
                                pInputText />

                        </div>


                    </div>

                    <div class="field col-12 lg:col-4 md:col-12 ">
                        <label for="firstname2">First Name</label>

                        <div class="p-inputgroup">
                            <input formControlName="firstName" placeholder="Enter First Name" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />
                        </div>


                    </div>



                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">Last Name</label>
                        <div class="p-inputgroup">

                            <input formControlName="lastName" placeholder="Enter Last Name" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />

                        </div>


                    </div>
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">Roll No.</label>
                        <div class="p-inputgroup">

                            <input formControlName="rollNo" placeholder="Enter Roll No" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />

                        </div>


                    </div>
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">Gender</label>
                        <div class="p-inputgroup">

                            <input formControlName="gender" placeholder="Enter Gender" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />

                        </div>


                    </div>
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">STD</label>
                        <div class="p-inputgroup">

                            <input formControlName="std" placeholder="Enter standard" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />

                        </div>


                    </div>

                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">DIV</label>
                        <div class="p-inputgroup">

                            <input formControlName="div" placeholder="Enter Division" type="text" pInputText
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')" />

                        </div>


                    </div>


                    <div class="field col-12 lg:col-4 md:col-12 ">
                        <label for="firstname2">Email</label>
                        <div class="p-inputgroup">

                            <input formControlName="email" placeholder="Enter email" type="text" pInputText />

                        </div>

                    </div>


                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2">Mobile no.</label>
                        <div class="p-inputgroup">

                            <input formControlName="mobileNo" placeholder="Enter mobile no." type="text" pInputText />

                        </div>


                    </div>

                </div>


                <br>

                <p-button [style]="{'margin-left':'12px'}" [label]="'APPLY'" (click)="filteredValues()"></p-button>



            </p-accordionTab>

        </p-accordion>

    </form>

    <br>
    <p-table [scrollable]="true" #dt2 [value]="students" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
        [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [globalFilterFields]="['name', 'plan', 'balance', 'adjustments']" [tableStyle]="{ 'min-width': '75rem' }">
        <ng-template pTemplate="caption">
            <div class="flex-container">
                <h2>List of students</h2>
                <p-splitButton icon="pi pi-download" label="Download" [model]="this.saveOptions"
                    styleClass="p-button-outlined mr-2 mb-2">
                </p-splitButton>


            </div>
        </ng-template>




        <ng-template pTemplate="header">




            <tr>
                <th>REG ID</th>
                <th>FIRST NAME</th>
                <th>LAST NAME</th>
                <th>ROLL NO</th>
                <th>GENDER</th>
                <th>STD</th>
                <th>DIV</th>
                <th>EMAIL</th>
                <th>PHONE</th>
                <th alignFrozen="right" pFrozenColumn> ACTION</th>




            </tr>


        </ng-template>
        <ng-template pTemplate="body" let-students>
            <tr>


                <td [style]="{'color':'#01A9F1','font-weight': 'bold'}">{{ students.uniqueId }}</td>
                <td>{{ students.firstName }}</td>
                <td>{{ students.lastName }}</td>
                <td>{{ students.rollNo }}</td>
                <td>{{ students.gender }}</td>
                <td>{{ students.std }}</td>
                <td>{{ students.div }}</td>
                <td>{{ students.email}}</td>
                <td>{{ students.mobileNo }}</td>
                <td alignFrozen="right" pFrozenColumn [style]="{'color':'#0257FF','font-weight': 'bold'}">


                    <p-button (click)="handleClick( students.studentId ); menu.toggle($event)" icon="pi pi-ellipsis-v"
                        styleClass="p-button-rounded p-button-text">

                    </p-button>
                </td>

            </tr>
        </ng-template>

    </p-table>
</div>

<div *ngIf="!students">
    <div
        style="background-color: #F4F6FF;height:600px;display: flex; justify-content: center; align-items: center;width: 100%;">
        <div style="width:20%;border-radius:10px;box-shadow: rgba(94, 93, 102, 0.08) 1px 1px 0px 0px, rgba(94, 93, 102, 0.1) 2px 2px 3px 0px;
   ">
            <img src="../../../../assets/layout/images/25943-nodata (1).gif" width="100%;">

        </div>

    </div>
</div>